# -- set-option

# prefix
set -g prefix C-q
bind C-q send-prefix
unbind C-b

# basic
set -sg escape-time 1
set -g base-index 1
setw -g pane-base-index 1

# color
set -g default-terminal "screen-256color"

# status
set -g status-interval 1
set -g status-position top
set -g status-bg black
set -g status-fg yellow
set -g pane-active-border-bg black
set -g status-left '#[fg=cyan]#{?client_prefix,#[reverse],} #S #[default] '
set -g status-right '#H | #(date -u +"%Y-%m-%d %H:%M:%S %z") '
setw -g window-status-format '#I:#W#F'
setw -g window-status-current-format '#[bold]#I:#W#F#[default]'

# mouse
#set -g mouse on


# -- bind-key

# window
bind -r n next-window
bind c new-window -c '#{pane_current_path}'

# select-pane
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# resize-pane
bind -r H resize-pane -L 1
bind -r J resize-pane -D 1
bind -r K resize-pane -U 1
bind -r L resize-pane -R 1

# split-window
bind - split-window -v -c '#{pane_current_path}'
bind | split-window -h -c '#{pane_current_path}'

# copy-mode
bind v copy-mode
bind p paste-buffer
bind -t vi-copy v begin-selection
bind -t vi-copy C-v rectangle-toggle
bind -t vi-copy C-[ clear-selection
bind -t vi-copy y copy-selection
bind -t vi-copy Enter copy-selection
if-shell 'which xsel' 'bind -t vi-copy y copy-pipe "xsel -ib"; bind -t vi-copy Enter copy-pipe "xsel -ib";'
if-shell 'which reattach-to-user-namespace' 'bind -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"; bind -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy";'
if-shell '[ ${SSH_CONNECTION:-} == "" ]' 'bind -t vi-copy y copy-selection; bind -t vi-copy Enter copy-selection'

# sync panes
bind S set-window-option synchronize-panes

# layout
bind = select-layout tiled
bind ^ select-layout even-vertical
bind < select-layout even-horizontal
bind > select-layout even-horizontal
